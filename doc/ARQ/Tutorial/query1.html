<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>ARQ - SPARQL Tutorial - First Query</title>
    <link rel="stylesheet" type="text/css" href="../styles/doc.css" />
  </head>

<body>

<h1>SPARQL Tutorial - A First SPARQL Query</h1>

<p>In this section, we look at a simple first query
and show how to execute it with ARQ.</p>

<h2>A "hello world" of queries</h2>

<p>The file &quot;<a href="q1.rq">q1.rq</a>&quot; 
contains the following query:</p>

<pre class="box">SELECT ?x
WHERE { ?x  &lt;http://www.w3.org/2001/vcard-rdf/3.0#FN&gt;  &quot;John Smith&quot; }</pre>

<p>executing that query with the command line query application;</p>

<pre class="box">---------------------------------
| x                             |
=================================
| &lt;http://somewhere/JohnSmith/&gt; |
---------------------------------</pre>

<p>This works by matching the triple pattern in the <code>WHERE</code> clause against
the triples in the RDF graph. The predicate and object of the triple are fixed values
so the pattern is going to match only triples with those values.  The subject is a 
variable, and there are no other restrictions on the variable.  The pattern matches
any triples with these predicate and object values, and it matches with solutions for 
<code>x</code>.</p>

<p>The item enclosed in &lt;&gt; is a URI (actually, it's an IRI) and the item
enclosed in "" is a plain literal.  Just like Turtle, N3 or N-triples, typed
literals are written with ^^ and language tags can be added with @.</p>

<p><tt>?x</tt> is a variable called <tt>x</tt>.  The ? does not form part of the name
which is why it does not appear in the table output.</p>

<p>There is one match. The query returns the match in
the <code>x</code> query variable.  The output shown was obtained by using 
one of ARQ's command line applications.</p>

<h2>Executing the query</h2>

<p>There are <a href="../cmds.html">helper scripts</a>
in the ARQ <code>bat/</code> and <code>bin/</code> directories.
You should check these before use.
</p>


<h3>Windows setup</h3>

<p>Set the ARQROOT environment variable to the file location of the ARQ
distribution.</p>

<pre class="box">set ARQROOT=c:\MyProjects\ARQ</pre>

<p>The distribution usually has the version number in the directory name.</p>

<p>In the ARQ directory, execute:</p>

<pre class="box">bat\sparql.bat --data=doc\Tutorial\vc-db-1.rdf --query=doc\Tutorial\q1.rq</pre>

<p>You can just put the <code>bat/</code> directory on your classpath
or copy the programs out of it.  They all depend on ARQROOT.</p>

<h3>bash scripts for Linux/Cygwin/Unix</h3>

<p>Set the ARQROOT environment variable to the file location of the
ARQ distribution.</p>

<pre class="box">export ARQROOT=$HOME/MyProjects/ARQ</pre>

<p>The distribution usually has the version number in the directory name.</p>

<p>In the ARQ directory, execute:</p>

<pre class="box">bin/sparql --data=doc/Tutorial/vc-db-1.rdf --query=doc/Tutorial/q1.rq</pre>

<p>You can just put the <code>bin/</code> directory on your classpath or
copy the programs out of it.  They all depend on ARQROOT.</p>

<p><a href="http://www.cygwin.com/">Cygwin</a> is a Linux-like environment
for Windows.</p>

<h3>Using the Java command line applications directly</h3>
  
<p>You will need to set the
classpath to include <em>all</em> the jar files in the ARQ
<code>lib/</code> directory.</p>

<p>For example:</p>
<pre class="box">
<i>ARQdir</i>\lib\antlr-2.7.5.jar;<i>ARQdir</i>\lib\ARQ.jar;<i>ARQdir</i>\lib\commons-logging.jar;
<i>ARQdir</i>\lib\concurrent.jar;<i>ARQdir</i>\lib\icu4j.jar;<i>ARQdir</i>\lib\jakarta-oro-2.0.8.jar;
<i>ARQdir</i>\lib\jena.jar;<i>ARQdir</i>\lib\junit.jar;<i>ARQdir</i>\lib\log4j-1.2.12.jar;
<i>ARQdir</i>\lib\xercesImpl.jar;<i>ARQdir</i>\lib\xml-apis.jar
</pre>
<p>where <code><i>ARQdir</i></code> is where you unpacked ARQ.
This must be all one line.</p>

<p>The commands themselves are in the <code>arq</code> package.</p>


<p class="footnote"><a href="basic_patterns.html">Next: Basic Patterns</a></p>
</body>
</html>
