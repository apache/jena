<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 Firefox gets it wrong (puts a marging at the top) if the declarations as included 
-->

<head>
<title>ARQ - SPARQL/Update</title>
<link rel="stylesheet" type="text/css" href="styles/doc.css" />
</head>
<body>

<h1>ARQ - SPARQL/Update</h1>
<p>SPARQL/Update is an update language for RDF based on SPARQL syntax.&nbsp; It 
is described in &quot;<a href="http://openjena.org/~afs/SPARQL-Update.html">SPARQL/Update 
- A Language for Updating RDF Graphs</a>&quot;.</p>
<p>A SPARQL/Update request is composed of a number of update operations, so in a 
single request graphs can be created, loaded with RDF data and modified.</p>
<p>Some examples of ARQ's SPARQL/Update support are to be found in the download 
in src-examples/arq/examples/update.</p>
<p>Many common operations can be done with operations in <code>UpdateAction</code>.<p>To execute a SPARQL/Update request as a script from a file:<pre class="box">Model model = ... ;
GraphStore graphStore = GraphStoreFactory.create(model) ;
UpdateAction.readExecute("update.ru", graphStore) ;</pre>
<p>The application writer can create and execute operations:</p>

<pre class="box">UpdateLoad load = new UpdateLoad("etc/update-data.ttl") ;
UpdateAction.<i>execute</i>(load, graphStore) ;</pre>
<p>or whole requests:</p>
<pre class="box"> UpdateRequest req = new UpdateRequest() ;
         // Create a named graph
 UpdateCreate c = new UpdateCreate(graphName) ;
         // Load a file into a named graph - NB order of arguments (both strings).
 UpdateLoad load = new UpdateLoad("etc/update-data.ttl", graphName) ;
         // Add the two operations and execute the request
 req.addUpdate(c) ;
 req.addUpdate(load) ;
         // Execute!
 UpdateAction.execute(req, graphStore) ;</pre>

<p>
The class <tt>UpdateAction</tt> is a set of convenience operations
for calling <tt>UpdateFactory</tt>
to create update requests by reading files or parsing strings, and also for creating
<tt>UpdateProcessor</tt>'s to perform the operations, thnen finally invoking
the <tt>UpdateProcessor</tt>.  An application can create these object itself (using 
<tt>UpdateFactory</tt>) if it requires more a complex processing model.</p>

<p class="footnote"><a href="documentation.html">ARQ Documentation Page</a></p>
</body>
</html>
